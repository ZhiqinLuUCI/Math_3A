<!DOCTYPE html>
<html lang="en-US">
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*       on 2022-07-12T23:42:35-07:00       *-->
<!--*   A recent stable commit (2020-08-09):   *-->
<!--* 98f21740783f166a773df4dc83cab5293ab63a4a *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="robots" content="noindex, nofollow">
</head>
<body class="ignore-math"><div class="solution solution-like">
<p>We count all permutations, and subtract those which are not derangements. There are <span class="process-math">\(4! = 24\)</span> permutations of 4 elements. Now for a permutation to <em class="emphasis">not</em> be a derangement, at least one of the 4 elements must be fixed. There are <span class="process-math">\({4 \choose 1}\)</span> choices for which single element we fix. Once fixed, we need to find a permutation of the other three elements. There are <span class="process-math">\(3!\)</span> permutations on 3 elements.</p>
<p>But now we have counted too many non-derangements, so we must subtract those permutations which fix two elements. There are <span class="process-math">\({4 \choose 2}\)</span> choices for which two elements we fix, and then for each pair, <span class="process-math">\(2!\)</span> permutations of the remaining elements. But this subtracts too many, so add back in permutations which fix 3 elements, all <span class="process-math">\({4 \choose 3}1!\)</span> of them. Finally subtract the <span class="process-math">\({4 \choose 4}0!\)</span> permutations (recall <span class="process-math">\(0! = 1\)</span>) which fix all four elements. All together we get that the number of derangements of 4 elements is:</p>
<div class="displaymath process-math" data-contains-math-knowls="">
\begin{equation*}
4! - \left[{4 \choose 1}3! - {4 \choose 2}2! + {4 \choose 3} 1! - {4 \choose 4}0!\right] = 24 - 15 = 9\text{.}
\end{equation*}
</div>
</div></body>
</html>
